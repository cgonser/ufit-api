<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="google-signin-client_id" content="300003549103-bi3c6mrf3jhmotvvpmpjm7ftf2leh3f2.apps.googleusercontent.com">
    <title>uFit API | Google Login</title>
</head>
<body>

<script src="https://apis.google.com/js/platform.js" async defer></script>

<script>
    // Reference: https://developers.google.com/identity/sign-in/web/sign-in

    loginWithGoogleToken = async function (googleUser) {
        var accessToken = googleUser.getAuthResponse().id_token;

        var apiResponse = await fetch(
            '{{ path('vendor_google_login') }}',
            {
                method: 'POST',
                headers: {
                    'Content-type': 'application/json'
                },
                body: JSON.stringify({
                    'accessToken': accessToken
                })
            }
        );

        console.log(apiResponse);
    }

</script>

<div class="g-signin2" data-onsuccess="loginWithGoogleToken"></div>

</body>
</html>
